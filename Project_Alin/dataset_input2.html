<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Input Dataset</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,300;0,400;0,700;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/Project_Alin/CSS/style.css" />
    <link rel="stylesheet" href="/Project_Alin/CSS/folder_face_page.css" />
    <link rel="stylesheet" href="/Project_Alin/CSS/popup.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <a href="index.html" class="navbar-home">
        <img src="/Project_Alin/Asset/home_icon.svg" alt="Home" />
      </a>
      <div class="navbar-nav">
        <a
          href="Navigation/tentang_project.html"
          class="nav-link"
          id="nav-project"
          >Tentang Project</a
        >
        <a
          href="Navigation/panduan_singkat.html"
          class="nav-link"
          id="nav-panduan"
          >Panduan Singkat</a
        >
        <a href="Navigation/tentang_kami.html" class="nav-link" id="nav-kami"
          >Tentang Kami</a
        >
      </div>
    </nav>
    <!-- Navbar -->

    <!-- Hero/Main Section -->
    <section class="landing" id="home">
      <main class="folder-face-content">
        <div class="folder-face-box">
          <h2 class="folder-face-title">Ambil dataset dari folder</h2>
          <form class="folder-face-form">
            <label class="custom-file-label">
              <input
                type="file"
                id="folderInput"
                style="display: none"
                webkitdirectory
                directory
                multiple
              />
              <span id="chooseFileBtn" class="choose-file-btn"
                >Choose file</span
              >
              <span id="fileName" class="file-name">No Chosen File</span>
            </label>
          </form>
          <button class="folder-face-next" id="nextBtn" style="display: none">
            Next <span style="font-size: 1.2em">&#8594;</span>
          </button>
          <div class="dataset-desc"></div>
        </div>
      </main>
    </section>
    <!-- Hero/Main Section -->

    <!-- Footer -->
    <footer>
      <div class="credit">
        <p>-</p>
      </div>
    </footer>
    <!-- Footer -->

   
    </div>

    <script>
      // Custom file input logic
      const chooseFileBtn = document.getElementById("chooseFileBtn");
      const folderInput = document.getElementById("folderInput");
      const fileName = document.getElementById("fileName");
      const nextBtn = document.getElementById("nextBtn");

      chooseFileBtn.addEventListener("click", function (e) {
        e.preventDefault();
        folderInput.click();
      });

      folderInput.addEventListener("change", function () {
        if (folderInput.files.length > 0) {
          fileName.textContent = folderInput.files[0].webkitRelativePath
            ? folderInput.files[0].webkitRelativePath.split("/")[0]
            : folderInput.files[0].name;
          chooseFileBtn.classList.add("active");
          nextBtn.style.display = "block";
        } else {
          fileName.textContent = "No Chosen File";
          chooseFileBtn.classList.remove("active");
          nextBtn.style.display = "none";
        }
      });

      // Tampilkan popup saat tombol Next diklik
      nextBtn.addEventListener("click", function (e) {
        e.preventDefault();
        document.getElementById("popup-success").style.display = "flex";
        setTimeout(function () {
          document.getElementById("popup-success").style.display = "none";
        }, 2000);
        const popupText = document.getElementById("popup-success-text");
          if (popupText) popupText.textContent = "Dataset berhasil ditambahkan";
        });
      
      
    </script>

    <!-- Tempatkan sebelum </body> -->
    <script>
      // Fungsi untuk load popup.html ke halaman
      function loadPopup(callback) {
        fetch("/Project_Alin/popup.html")
          .then((res) => res.text())
          .then((html) => {
            document.body.insertAdjacentHTML("beforeend", html);
            if (callback) callback();
          });
      }
      // Panggil saat halaman siap
      document.addEventListener("DOMContentLoaded", function () {
        loadPopup();
      });
    </script>
  </body>
</html>
